(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-changehistory-index"],{"0b97":function(t,e,i){"use strict";var n=i("3512"),a=i.n(n);a.a},"1aa9":function(t,e,i){"use strict";i.r(e);var n=i("4f1c"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"2eb8":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".uni-tag[data-v-f5a34e84]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\npadding:0 16px;height:30px;line-height:30px;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;color:#333;border-radius:%?6?%;background-color:#f8f8f8;border-width:%?1?%;border-style:solid;border-color:#f8f8f8}.uni-tag--circle[data-v-f5a34e84]{border-radius:15px}.uni-tag--mark[data-v-f5a34e84]{border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:15px;border-bottom-right-radius:15px}.uni-tag--disabled[data-v-f5a34e84]{opacity:.5}.uni-tag--small[data-v-f5a34e84]{height:20px;padding:0 8px;line-height:20px;font-size:%?24?%}.uni-tag--default[data-v-f5a34e84]{color:#333;font-size:%?28?%}.uni-tag-text--small[data-v-f5a34e84]{font-size:%?24?%!important}.uni-tag-text[data-v-f5a34e84]{color:#fff;font-size:%?28?%}.uni-tag-text--primary[data-v-f5a34e84]{color:#007aff!important}.uni-tag-text--success[data-v-f5a34e84]{color:#4cd964!important}.uni-tag-text--warning[data-v-f5a34e84]{color:#f0ad4e!important}.uni-tag-text--error[data-v-f5a34e84]{color:#dd524d!important}.uni-tag--primary[data-v-f5a34e84]{color:#fff;background-color:#007aff;border-width:%?1?%;border-style:solid;border-color:#007aff}.primary-uni-tag--inverted[data-v-f5a34e84]{color:#007aff;background-color:#fff;border-width:%?1?%;border-style:solid;border-color:#007aff}.uni-tag--success[data-v-f5a34e84]{color:#fff;background-color:#4cd964;border-width:%?1?%;border-style:solid;border-color:#4cd964}.success-uni-tag--inverted[data-v-f5a34e84]{color:#4cd964;background-color:#fff;border-width:%?1?%;border-style:solid;border-color:#4cd964}.uni-tag--warning[data-v-f5a34e84]{color:#fff;background-color:#f0ad4e;border-width:%?1?%;border-style:solid;border-color:#f0ad4e}.warning-uni-tag--inverted[data-v-f5a34e84]{color:#f0ad4e;background-color:#fff;border-width:%?1?%;border-style:solid;border-color:#f0ad4e}.uni-tag--error[data-v-f5a34e84]{color:#fff;background-color:#dd524d;border-width:%?1?%;border-style:solid;border-color:#dd524d}.error-uni-tag--inverted[data-v-f5a34e84]{color:#dd524d;background-color:#fff;border-width:%?1?%;border-style:solid;border-color:#dd524d}.uni-tag--inverted[data-v-f5a34e84]{color:#333;background-color:#fff;border-width:%?1?%;border-style:solid;border-color:#f8f8f8}",""]),t.exports=e},3512:function(t,e,i){var n=i("2eb8");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("2b3f4b8d",n,!0,{sourceMap:!1,shadowMode:!1})},"4ba6":function(t,e,i){"use strict";i.r(e);var n=i("6b90"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"4f1c":function(t,e,i){"use strict";var n=i("4ea4");i("d3b7"),i("ac1f"),i("25f0"),i("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("ade3")),o=n(i("f329")),r=n(i("7260")),c=n(i("6821")),s=n(i("1fda")),d={components:{uniSteps:o.default,uniPopup:r.default,uniPopupMessage:c.default,uniPopupDialog:s.default},data:function(){var t;return t={id:"",company_name:"",company_address:"",company_phone:"",tax_num:"",consignee:"",consignee_address:"",consignee_phone:"",consignee_email:"",bank:"",bank_num:"",number:"",updateTime:"",expName:"",statetext:""},(0,a.default)(t,"number",""),(0,a.default)(t,"updateTime",""),(0,a.default)(t,"expName",""),(0,a.default)(t,"cursteps",[]),(0,a.default)(t,"openid",""),(0,a.default)(t,"obj",""),(0,a.default)(t,"shiplist",[]),(0,a.default)(t,"addressData",{name:"许小星",mobile:"13853989563",addressName:"金九大道",address:"山东省济南市历城区",area:"149号",default:!1}),t},filters:{num:function(t){return t=t.replace("l",""),t},day:function(t){return t?(t=t.toString(),t.substring(5,10)):""},time:function(t){return t?(t=t.toString(),t.substring(10,16)):""},curstate:function(t){if(!t)return"";var e=t,i="";return i=8==e?"申请换票":9==e?"通过审核":10==e?"未通过审核":11==e?"开始配送":"未知",i}},onLoad:function(t){var e=uni.getStorageSync("invoiceopenId");this.openid=e,this.query(t.id),this.id=t.id,this.logistic(t.num),this.init(t.id)},methods:{getHeight:function(){var t=uni.createSelectorQuery();t.select(".first").boundingClientRect(),t.select(".end").boundingClientRect();var e=this;t.exec((function(t){console.log(t);var i=0;null!==t[1]&&(i=t[1].top-t[0].top),console.log(t[0].left),console.log(t[0].top),console.log(i),e.xiantiaoHeight=i,e.xiantiaoLeft=t[0].left+4,e.xiantiaoTop=t[0].top}))},confirmok:function(){var t=this;uni.showModal({title:"提示",content:"确认收票后发票将无法退换，是否确认收票？",success:function(e){e.confirm?(console.log("用户点击确定"),t.$http.post({url:"/erp/invoice/modifyState",data:{id:t.id,state:12}}).then((function(e){t.$refs.popup.open(),setTimeout((function(){uni.navigateTo({url:"/pages/list/index"})}),1500)})).catch((function(t){}))):e.cancel&&console.log("用户点击取消")}})},init:function(t){var e=this;this.$http.post({url:"/erp/invoice/get_change_history",data:{invoice_id:t}}).then((function(t){e.shiplist=t.data})).catch((function(t){}))},logistic:function(t){var e=this;this.$http.post({url:"/erp/invoice/logistics",data:{num:t}}).then((function(t){console.log(t),0==t.status&&(e.number=t.result.number,e.updateTime=t.result.updateTime,e.expName=t.result.expName)})).catch((function(t){}))},query:function(t){var e=this;this.$http.post({url:"/erp/invoice/detail",data:{id:t}}).then((function(t){console.log(t),0==t.code&&(e.tabCurrentIndex="1"==t.data.type?0:1,e.waybtnIndex=t.data.way,e.company_name=t.data.company_name,e.company_address=t.data.company_address,e.company_phone=t.data.company_phone,e.tax_num=t.data.tax_num,e.consignee=t.data.consignee,e.consignee_address=t.data.consignee_address,e.consignee_phone=t.data.consignee_phone,e.consignee_email=t.data.consignee_email,e.bank=t.data.bank,e.bank_num=t.data.bank_num,e.desc=t.data.desc,e.obj=t.data)})).catch((function(t){}))},detail:function(){var t=this.obj;uni.navigateTo({url:"/pages/info/index?id="+t.id+"&state="+t.state+"&type="+t.type})},returnok:function(){uni.navigateTo({url:"/pages/return/index?id="+this.id+"&way="+this.obj.way})},changenok:function(){uni.navigateTo({url:"/pages/change/index?id="+this.id+"&way="+this.obj.way})}}};e.default=d},"5f3d":function(t,e,i){"use strict";i.r(e);var n=i("9620"),a=i("4ba6");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("0b97");var r,c=i("f0c5"),s=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"f5a34e84",null,!1,n["a"],r);e["default"]=s.exports},"6b90":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniTag",props:{type:{type:String,default:"default"},size:{type:String,default:"normal"},text:{type:String,default:""},disabled:{type:[Boolean,String],default:!1},inverted:{type:[Boolean,String],default:!1},circle:{type:[Boolean,String],default:!1},mark:{type:[Boolean,String],default:!1}},methods:{onClick:function(){!0!==this.disabled&&"true"!==this.disabled&&this.$emit("click")}}};e.default=n},"7d70":function(t,e,i){var n=i("24fb"),a=i("1de5"),o=i("85ed"),r=i("f115");e=n(!1);var c=a(o),s=a(r);e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.container[data-v-8bd45c1c]{background:#fafafa}.container .btn[data-v-8bd45c1c]{width:100%;position:fixed;bottom:15px;text-align:right;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.container .btn .btndiv[data-v-8bd45c1c]{width:%?480?%;display:-webkit-box;display:-webkit-flex;display:flex}.container .btn .btndiv uni-button[data-v-8bd45c1c]{margin-right:%?30?%;width:%?180?%;height:%?60?%;font-size:%?24?%}.container .popup-box[data-v-8bd45c1c]{display:inline-block;width:%?340?%;height:%?300?%;text-align:center;background-color:#fff;padding:%?30?%;border-radius:%?10?%;font-size:%?28?%}.container .popup-box uni-image[data-v-8bd45c1c]{display:inline-block;width:%?300?%;height:%?280?%}.container .box[data-v-8bd45c1c]{text-align:center;color:#888;font-size:%?20?%}.container .box[data-v-8bd45c1c]:after{content:"---";font-size:14px;margin-left:10px}.container .box[data-v-8bd45c1c]:before{content:"---";color:#888;font-size:12px;margin-right:10px}.container .banner[data-v-8bd45c1c]{width:100%;height:%?300?%;background:url('+c+") no-repeat;background-size:cover;position:relative}.container .banner .state[data-v-8bd45c1c]{position:absolute;display:inline-block;font-size:%?40?%;color:#fff;left:%?30?%;top:%?76?%}.container .banner .shouhuinfo[data-v-8bd45c1c]{position:absolute;display:inline-block;font-size:%?24?%;color:#fefefe;left:%?30?%;bottom:%?100?%}.container .banner .address[data-v-8bd45c1c]{position:absolute;display:inline-block;font-size:%?24?%;line-height:%?36?%;width:%?360?%;color:#fefefe;left:%?30?%;bottom:%?20?%}.container .content1[data-v-8bd45c1c]{margin:10px 0}.container .content[data-v-8bd45c1c]{background:#fff;padding:%?20?% 0}.container .content .steps[data-v-8bd45c1c]{margin:%?30?% 0 0}.container .content .info[data-v-8bd45c1c]{margin-bottom:%?30?% 0!important;background:url("+s+") no-repeat;background-size:contain;padding:0 %?30?%;box-sizing:border-box}.container .content .info .aline[data-v-8bd45c1c]{height:%?48?%;line-height:%?48?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.container .content .info .aline uni-text[data-v-8bd45c1c]{color:#656565;font-size:%?20?%}.container .content .info .alinefrist[data-v-8bd45c1c]{position:relative}.container .content .info .alinefrist .copy[data-v-8bd45c1c]{display:inline-block;width:%?110?%;height:%?48?%;line-height:%?48?%;font-size:%?24?%;position:absolute;right:0}.container uni-page-body[data-v-8bd45c1c]{background:#f6f6f6;padding-bottom:%?120?%;font-family:PingFang SC;letter-spacing:.30000001192092896px}.container .content1[data-v-8bd45c1c]{background:#fff}.container .shipping[data-v-8bd45c1c]{width:94%;margin:0 auto;background-color:#fff;padding:%?30?%;box-sizing:border-box;margin-top:%?20?%;border-radius:%?10?%}.container .shipping .linehh[data-v-8bd45c1c]{position:absolute;width:%?2?%;border-left:%?2?% dotted #b0b1b7}.container .shipping .ul .li[data-v-8bd45c1c]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;height:auto;margin-top:%?2?%}.container .shipping .ul .li .time[data-v-8bd45c1c]{width:16%;padding:%?20?% %?0?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-family:PingFang SC;font-weight:700;color:#b0b1b7}.container .shipping .ul .li .time .timeday[data-v-8bd45c1c]{font-size:%?28?%}.container .shipping .ul .li .time .timeh[data-v-8bd45c1c]{font-size:%?24?%}.container .shipping .ul .li .mmmm[data-v-8bd45c1c]{position:relative;width:10%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.container .shipping .ul .li .mmmm .yuan[data-v-8bd45c1c]{position:absolute;left:%?20?%;width:%?20?%;height:%?20?%;background:#dedede;border-radius:50%;border:%?3?% solid #f2f2f2}.container .shipping .ul .li .mmmm .yuan.act[data-v-8bd45c1c]{background-color:#fd2e6f}.container .shipping .ul .li .desc[data-v-8bd45c1c]{width:74%;padding:%?20?% %?0?%;margin-left:%?20?%;font-size:%?28?%;font-weight:500;height:%?80?%;line-height:%?80?%;color:#b0b1b7}.container .shipping .ul .li .desc.black[data-v-8bd45c1c]{color:#222431}",""]),t.exports=e},"91ca":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uniTag:i("5f3d").default,uniPopup:i("7260").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"info"},[n("v-uni-view",{staticClass:"aline alinefrist"},[n("v-uni-text",[t._v("发票号："+t._s(t.obj.invoice_num))]),n("uni-tag",{directives:[{name:"show",rawName:"v-show",value:8==t.obj.state,expression:"obj.state==8"}],staticClass:"state",attrs:{text:"审核中",type:"primary",circle:!0,inverted:!1,size:"small"}}),n("uni-tag",{directives:[{name:"show",rawName:"v-show",value:9==t.obj.state,expression:"obj.state==9"}],staticClass:"state",attrs:{text:"已通过",type:"success",circle:!0,inverted:!1,size:"small"}}),n("uni-tag",{directives:[{name:"show",rawName:"v-show",value:7==t.obj.state,expression:"obj.state==7"}],staticClass:"state",attrs:{text:"已完成",type:"default",circle:!0,inverted:!1,size:"small"}}),n("uni-tag",{directives:[{name:"show",rawName:"v-show",value:10==t.obj.state,expression:"obj.state==10"}],staticClass:"state",attrs:{text:"未通过",type:"error",circle:!0,inverted:!1,size:"small"}}),n("uni-tag",{directives:[{name:"show",rawName:"v-show",value:11==t.obj.state,expression:"obj.state==11"}],staticClass:"state",attrs:{text:"配送中",type:"warning",circle:!0,inverted:!1,size:"small"}})],1),n("v-uni-view",{staticClass:"aline"},[n("v-uni-text",[t._v("发票种类："+t._s(1==t.obj.type?"普通发票":"专用发票"))])],1),n("v-uni-view",{staticClass:"aline"},[n("v-uni-text",[t._v("开票时间："+t._s(t.obj.create_time))]),n("uni-tag",{staticClass:"state",attrs:{text:"查看详情",circle:!0,inverted:!1,size:"small"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.detail.apply(void 0,arguments)}}})],1)],1)],1),n("v-uni-view",{staticClass:"content1"},[n("v-uni-view",{staticClass:"shipping"},t._l(t.shiplist,(function(e,i){return n("v-uni-view",[n("v-uni-view",[t._v("第"+t._s(t._f("num")(i))+"次")]),t._l(e,(function(e,i){return n("v-uni-view",{key:i,staticClass:"ul"},[n("v-uni-view",{staticClass:"li"},[n("v-uni-view",{staticClass:"time"},[n("v-uni-text",{staticClass:"timeday"},[t._v(t._s(t._f("day")(e.create_time)))]),n("v-uni-text",{staticClass:"timeh"},[t._v(t._s(t._f("time")(e.create_time)))])],1),n("v-uni-view",{staticClass:"mmmm"},[n("v-uni-view",{staticClass:"yuan ",class:{act:0==i||i==t.shiplist.length-1,first:0==i,end:i==t.shiplist.length-1}})],1),n("v-uni-view",{staticClass:"desc",class:{black:0==i||i==t.shiplist.length-1}},[n("v-uni-text",[t._v(t._s(t._f("curstate")(e.state)))]),n("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:""!=e.reason,expression:"item.reason!=''"}]},[t._v("("+t._s(e.reason)+")")])],1)],1)],1)}))],2)})),1),n("v-uni-view",{staticClass:"box"},[t._v("DUANG~没有更多物流信息了哦")]),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:11==t.obj.state,expression:"obj.state==11"}],staticClass:"btn"},[n("v-uni-view",{staticClass:"btndiv"},[n("v-uni-button",{attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changenok.apply(void 0,arguments)}}},[t._v("我要换票")]),n("v-uni-button",{attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirmok.apply(void 0,arguments)}}},[t._v("确认收货")])],1)],1)],1),n("uni-popup",{ref:"popup",staticClass:"finish-popup",attrs:{type:"center"}},[n("v-uni-view",{staticClass:"popup-box"},[n("v-uni-image",{staticClass:"getgood",attrs:{src:i("71a1").replace(/^\./,""),mode:"center"}})],1)],1)],1)},o=[]},9620:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.text?i("v-uni-view",{staticClass:"uni-tag",class:["uni-tag--"+t.type,!0===t.disabled||"true"===t.disabled?"uni-tag--disabled":"",!0===t.inverted||"true"===t.inverted?t.type+"-uni-tag--inverted":"",!0===t.circle||"true"===t.circle?"uni-tag--circle":"",!0===t.mark||"true"===t.mark?"uni-tag--mark":"","uni-tag--"+t.size],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick()}}},[i("v-uni-text",{class:["default"===t.type?"uni-tag--default":"uni-tag-text",!0===t.inverted||"true"===t.inverted?"uni-tag-text--"+t.type:"","small"===t.size?"uni-tag-text--small":""]},[t._v(t._s(t.text))])],1):t._e()},o=[]},a4e4:function(t,e,i){"use strict";var n=i("c01c"),a=i.n(n);a.a},a5c7:function(t,e,i){"use strict";i.r(e);var n=i("91ca"),a=i("1aa9");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("a4e4");var r,c=i("f0c5"),s=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"8bd45c1c",null,!1,n["a"],r);e["default"]=s.exports},c01c:function(t,e,i){var n=i("7d70");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("038fccc0",n,!0,{sourceMap:!1,shadowMode:!1})}}]);